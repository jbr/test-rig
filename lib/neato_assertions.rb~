module NeatoAssertions

  def method_missing_with_neato_assertions(method, *args)
    if method.to_s =~ /^assert_(not_)?([a-z_]+)\??/ && args.first.respond_to?(:"#{$2}?")
      actual = args.first.send(:"#{$2}?")
      assert $1 ? !actual : actual
    else
      method_missing_without_neato_assertions(method, *args)
    end
  end

  def self.included(klass)
    klass.class_eval do
      alias_method_chain :method_missing, :neato_assertions
    end
  end

end
